(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7671],{76444:(e,l,s)=>{"use strict";s.r(l),s.d(l,{default:()=>u});var t=s(95155),a=s(12115),r=s(20063),o=s(35626),n=s(46046),c=s(18720);s(15239);var i=s(9880),d=s(2676);function u(e){var l,s;let{params:u}=e,b=(0,r.useRouter)(),{id:x}=(0,a.use)(u),[m,p]=(0,a.useState)(!0),[f,h]=(0,a.useState)(!1),[g,v]=(0,a.useState)({title:"",slug:"",category:"",description:"",imageUrl:"",icon:"",basePrice:0,subcategories:[],questions:[]});(0,a.useEffect)(()=>{j()},[x]);let j=async()=>{try{let e=await fetch("".concat("http://localhost:5000/api","/services/").concat(x));if(e.ok){let l=await e.json();v(l)}else c.o.error("Failed to load service"),b.push("/admin/services")}catch(e){c.o.error("Error loading service")}finally{p(!1)}},N=async()=>{h(!0);try{(await fetch("".concat("http://localhost:5000/api","/services/").concat(x),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat((0,d.gf)())},body:JSON.stringify(g)})).ok?(c.o.success("Service updated successfully"),b.push("/admin/services")):c.o.error("Failed to update service")}catch(e){c.o.error("Error updating service")}finally{h(!1)}};return m?(0,t.jsx)("div",{className:"p-8 text-center text-slate-500",children:"Loading..."}):(0,t.jsxs)("div",{className:"p-8 max-w-5xl mx-auto pb-32",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>b.back(),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:(0,t.jsx)(o.A,{size:24,className:"text-slate-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Edit Service"}),(0,t.jsxs)("p",{className:"text-slate-500",children:["Editing ",g.title," (",g.slug,")"]})]})]}),(0,t.jsxs)("button",{onClick:N,disabled:f,className:"bg-blue-500 text-white px-8 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-600 transition-colors disabled:opacity-50",children:[(0,t.jsx)(n.A,{size:20}),f?"Saving...":"Save Changes"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 p-8 mb-8",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:"Basic Details"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Title"}),(0,t.jsx)("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:g.title,onChange:e=>v({...g,title:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Slug"}),(0,t.jsx)("input",{type:"text",disabled:!0,className:"w-full bg-slate-100 border border-slate-200 rounded-xl px-4 py-3 text-slate-500 cursor-not-allowed",value:g.slug})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Base Price"}),(0,t.jsx)("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:g.basePrice,onChange:e=>v({...g,basePrice:parseFloat(e.target.value)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category"}),(0,t.jsx)("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:g.category,onChange:e=>v({...g,category:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Price Range - Min (₹)"}),(0,t.jsx)("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:(null==(l=g.priceRange)?void 0:l.min)||"",onChange:e=>v({...g,priceRange:{...g.priceRange,min:parseFloat(e.target.value)||0}}),placeholder:"Minimum price"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Price Range - Max (₹)"}),(0,t.jsx)("input",{type:"number",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:(null==(s=g.priceRange)?void 0:s.max)||"",onChange:e=>v({...g,priceRange:{...g.priceRange,max:parseFloat(e.target.value)||0}}),placeholder:"Maximum price"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Description"}),(0,t.jsx)("textarea",{className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500 h-24 resize-none",value:g.description,onChange:e=>v({...g,description:e.target.value})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Service Icon (Lucide name or URL)"}),(0,t.jsx)("input",{type:"text",className:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:border-blue-500",value:g.icon,onChange:e=>v({...g,icon:e.target.value}),placeholder:"e.g. Home, User, Sparkles"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Service Image"}),(0,t.jsx)("div",{className:"bg-slate-50 border border-slate-200 border-dashed rounded-2xl p-6",children:(0,t.jsx)(i.A,{value:g.imageUrl,onChange:e=>v({...g,imageUrl:e})})})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Service Video (Optional)"}),(0,t.jsx)("div",{className:"bg-slate-50 border border-slate-200 border-dashed rounded-2xl p-6",children:(0,t.jsx)(i.A,{value:g.video||"",onChange:e=>v({...g,video:e})})}),(0,t.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"If provided, video will be shown instead of image on service page"})]})]})]})]})}},83011:(e,l,s)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"useMergedRef",{enumerable:!0,get:function(){return a}});let t=s(12115);function a(e,l){let s=(0,t.useRef)(null),a=(0,t.useRef)(null);return(0,t.useCallback)(t=>{if(null===t){let e=s.current;e&&(s.current=null,e());let l=a.current;l&&(a.current=null,l())}else e&&(s.current=r(e,t)),l&&(a.current=r(l,t))},[e,l])}function r(e,l){if("function"!=typeof e)return e.current=l,()=>{e.current=null};{let s=e(l);return"function"==typeof s?s:()=>e(null)}}("function"==typeof l.default||"object"==typeof l.default&&null!==l.default)&&void 0===l.default.__esModule&&(Object.defineProperty(l.default,"__esModule",{value:!0}),Object.assign(l.default,l),e.exports=l.default)},92253:(e,l,s)=>{Promise.resolve().then(s.bind(s,76444))}},e=>{e.O(0,[4230,4909,6566,6184,8441,1255,7358],()=>e(e.s=92253)),_N_E=e.O()}]);