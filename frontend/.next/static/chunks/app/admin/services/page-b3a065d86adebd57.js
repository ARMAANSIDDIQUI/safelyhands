(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6255],{2676:(e,s,t)=>{"use strict";t.d(s,{E1:()=>r,gf:()=>i,q7:()=>o,wz:()=>c});let l="auth_session",r=(e,s)=>{let t={user:{_id:e._id,name:e.name,email:e.email,role:e.role||"user",phone:e.phone,isGoogleUser:e.isGoogleUser,profilePicture:e.profilePicture},token:s,expiresAt:Date.now()+2592e6};localStorage.setItem(l,JSON.stringify(t))},a=()=>{try{let e=localStorage.getItem(l);if(!e)return null;let s=JSON.parse(e);if(s.expiresAt&&Date.now()>s.expiresAt)return o(),null;return s}catch(e){return console.error("Error reading session:",e),null}},i=()=>{let e=a();return(null==e?void 0:e.token)||null},c=()=>{let e=a();return(null==e?void 0:e.user)||null},o=()=>{localStorage.removeItem(l),localStorage.removeItem("user"),localStorage.removeItem("userInfo"),localStorage.removeItem("token")}},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11010:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},52346:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>u});var l=t(95155),r=t(12115),a=t(52619),i=t.n(a),c=t(6191),o=t(86651),n=t(11010),d=t(71360),h=t(18720),x=t(2676);function u(){let[e,s]=(0,r.useState)([]),[t,a]=(0,r.useState)(!0),[u,m]=(0,r.useState)("");(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("".concat("http://localhost:5000/api","/services"));if(e.ok){let t=await e.json();s(t)}}catch(e){h.o.error("Failed to load services")}finally{a(!1)}},v=async e=>{if(confirm("Are you sure you want to delete this service?"))try{(await fetch("".concat("http://localhost:5000/api","/services/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat((0,x.gf)())}})).ok?(h.o.success("Service deleted"),p()):h.o.error("Failed to delete service")}catch(e){h.o.error("Error deleting service")}},g=e.filter(e=>e.title.toLowerCase().includes(u.toLowerCase())||e.slug.toLowerCase().includes(u.toLowerCase()));return(0,l.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Services Management"}),(0,l.jsx)("p",{className:"text-slate-500",children:"Manage all services, subcategories, and dynamic forms"})]}),(0,l.jsxs)(i(),{href:"/admin/services/new",className:"bg-blue-500 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-600 transition-colors",children:[(0,l.jsx)(c.A,{size:20}),"Add New Service"]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,l.jsx)("div",{className:"p-6 border-b border-slate-100",children:(0,l.jsxs)("div",{className:"relative max-w-md",children:[(0,l.jsx)(o.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,l.jsx)("input",{type:"text",placeholder:"Search services...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-blue-500 transition-colors",value:u,onChange:e=>m(e.target.value)})]})}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full text-left",children:[(0,l.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold text-sm uppercase tracking-wider",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-6 py-4",children:"Service"}),(0,l.jsx)("th",{className:"px-6 py-4",children:"Price Range"}),(0,l.jsx)("th",{className:"px-6 py-4",children:"Subcats"}),(0,l.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,l.jsx)("tbody",{className:"divide-y divide-slate-100",children:t?(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:"4",className:"text-center py-8 text-slate-500",children:"Loading..."})}):g.map(e=>{var s,t;return(0,l.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[e.imageUrl?(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg overflow-hidden relative",children:(0,l.jsx)("img",{src:e.imageUrl,alt:"",className:"object-cover w-full h-full"})}):(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-slate-100 flex items-center justify-center text-slate-400",children:(0,l.jsx)("span",{className:"text-xs font-bold",children:"IMG"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-bold text-slate-800",children:e.title}),(0,l.jsx)("div",{className:"text-xs text-slate-400 font-mono",children:e.slug})]})]})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsx)("div",{className:"text-sm font-bold text-slate-700",children:(null==(s=e.priceRange)?void 0:s.min)?"₹".concat(e.priceRange.min," - ₹").concat(e.priceRange.max):"₹".concat(e.basePrice)})}),(0,l.jsx)("td",{className:"px-6 py-4",children:(0,l.jsxs)("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded-md text-xs font-bold",children:[(null==(t=e.subcategories)?void 0:t.length)||0," items"]})}),(0,l.jsx)("td",{className:"px-6 py-4 text-right",children:(0,l.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,l.jsx)(i(),{href:"/admin/services/".concat(e._id),className:"p-2 hover:bg-blue-50 text-slate-400 hover:text-blue-500 rounded-lg transition-colors",children:(0,l.jsx)(n.A,{size:18})}),(0,l.jsx)("button",{onClick:()=>v(e._id),className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-lg transition-colors",children:(0,l.jsx)(d.A,{size:18})})]})})]},e._id)})})]})})]})]})}},71360:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},73486:(e,s,t)=>{Promise.resolve().then(t.bind(t,52346))},86651:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[4230,2619,8441,1255,7358],()=>e(e.s=73486)),_N_E=e.O()}]);