(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6279],{2676:(e,t,s)=>{"use strict";s.d(t,{E1:()=>r,gf:()=>i,q7:()=>c,wz:()=>o});let a="auth_session",r=(e,t)=>{let s={user:{_id:e._id,name:e.name,email:e.email,role:e.role||"user",phone:e.phone,isGoogleUser:e.isGoogleUser,profilePicture:e.profilePicture},token:t,expiresAt:Date.now()+2592e6};localStorage.setItem(a,JSON.stringify(s))},l=()=>{try{let e=localStorage.getItem(a);if(!e)return null;let t=JSON.parse(e);if(t.expiresAt&&Date.now()>t.expiresAt)return c(),null;return t}catch(e){return console.error("Error reading session:",e),null}},i=()=>{let e=l();return(null==e?void 0:e.token)||null},o=()=>{let e=l();return(null==e?void 0:e.user)||null},c=()=>{localStorage.removeItem(a),localStorage.removeItem("user"),localStorage.removeItem("userInfo"),localStorage.removeItem("token")}},5798:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(95155),r=s(12115),l=s(52619),i=s.n(l),o=s(71847);let c=(0,o.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var n=s(6191),d=s(86651);let h=(0,o.A)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var u=s(11010),x=s(71360),m=s(18720),p=s(2676);function v(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(!0),[o,v]=(0,r.useState)("");(0,r.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=await fetch("".concat("http://localhost:5000/api","/subcategories"));if(e.ok){let s=await e.json();t(s)}}catch(e){m.o.error("Failed to load subcategories")}finally{l(!1)}},j=async e=>{if(confirm("Are you sure you want to delete this subcategory?"))try{(await fetch("".concat("http://localhost:5000/api","/subcategories/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat((0,p.gf)())}})).ok?(m.o.success("Subcategory deleted"),g()):m.o.error("Failed to delete (Backend implementation needed)")}catch(e){m.o.error("Error deleting")}},b=e.filter(e=>{var t,s;return e.name.toLowerCase().includes(o.toLowerCase())||(null==(s=e.service)||null==(t=s.title)?void 0:t.toLowerCase().includes(o.toLowerCase()))});return(0,a.jsxs)("div",{className:"p-8 max-w-7xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[(0,a.jsx)(c,{className:"text-blue-500"}),"Subcategories Management"]}),(0,a.jsx)("p",{className:"text-slate-500",children:"Manage all subcategories across services"})]}),(0,a.jsxs)(i(),{href:"/admin/subcategories/new",className:"bg-blue-500 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-blue-600 transition-colors",children:[(0,a.jsx)(n.A,{size:20}),"Add New Subcategory"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-slate-100",children:(0,a.jsxs)("div",{className:"relative max-w-md",children:[(0,a.jsx)(d.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),(0,a.jsx)("input",{type:"text",placeholder:"Search subcategories or services...",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:border-blue-500 transition-colors",value:o,onChange:e=>v(e.target.value)})]})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-left",children:[(0,a.jsx)("thead",{className:"bg-slate-50 text-slate-500 font-bold text-sm uppercase tracking-wider",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4",children:"Subcategory"}),(0,a.jsx)("th",{className:"px-6 py-4",children:"Parent Service"}),(0,a.jsx)("th",{className:"px-6 py-4",children:"Price"}),(0,a.jsx)("th",{className:"px-6 py-4",children:"Features"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-slate-100",children:s?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:"5",className:"text-center py-8 text-slate-500",children:"Loading..."})}):b.map(e=>{var t;return(0,a.jsxs)("tr",{className:"hover:bg-slate-50 transition-colors",children:[(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.image?(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg overflow-hidden relative",children:(0,a.jsx)("img",{src:e.image,alt:"",className:"object-cover w-full h-full"})}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center text-blue-400",children:(0,a.jsx)(c,{size:20})}),(0,a.jsx)("div",{className:"font-bold text-slate-800",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:e.service?(0,a.jsxs)(i(),{href:"/admin/services/".concat(e.service._id),className:"text-blue-600 hover:underline flex items-center gap-1 text-sm font-medium",children:[e.service.title," ",(0,a.jsx)(h,{size:12})]}):(0,a.jsx)("span",{className:"text-slate-400 italic",children:"Orphaned"})}),(0,a.jsxs)("td",{className:"px-6 py-4 text-slate-700 font-mono text-sm",children:["â‚¹",e.price]}),(0,a.jsxs)("td",{className:"px-6 py-4 text-slate-500 text-xs",children:[(null==(t=e.features)?void 0:t.length)||0," features"]}),(0,a.jsx)("td",{className:"px-6 py-4 text-right",children:(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,a.jsx)(i(),{href:"/admin/subcategories/".concat(e._id),className:"p-2 hover:bg-blue-50 text-slate-400 hover:text-blue-500 rounded-lg transition-colors",children:(0,a.jsx)(u.A,{size:18})}),(0,a.jsx)("button",{onClick:()=>j(e._id),className:"p-2 hover:bg-red-50 text-slate-400 hover:text-red-500 rounded-lg transition-colors",children:(0,a.jsx)(x.A,{size:18})})]})})]},e._id)})})]})})]})]})}},6191:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11010:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},71360:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},83590:(e,t,s)=>{Promise.resolve().then(s.bind(s,5798))},86651:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(71847).A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])}},e=>{e.O(0,[4230,2619,8441,1255,7358],()=>e(e.s=83590)),_N_E=e.O()}]);